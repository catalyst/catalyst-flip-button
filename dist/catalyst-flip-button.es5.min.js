'use strict';var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(function(){function a(){var a='catalyst-flip-button',b={SPACE:32,ENTER:13},c=document.createElement('template');c.innerHTML='<style>:host{display:inline-block;contain:layout style;align-items:flex-start;cursor:default;margin:0;padding:1px 6px;box-sizing:content-box;font-family:inherit;font-size:83.33333%;font-weight:400;font-style:normal;font-variant:normal;font-stretch:normal;line-height:normal;text-rendering:auto;text-transform:none;text-indent:0;text-shadow:none;text-align:center;letter-spacing:normal;word-spacing:normal;vertical-align:bottom;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative;color:#000000;perspective:100px}:host #card{position:absolute;top:0;right:0;bottom:0;left:0;transform-style:preserve-3d;transition:transform .4s ease}:host #card ::slotted(*){display:flex;align-items:center;justify-content:center;margin:0;position:absolute;top:0;right:0;bottom:0;left:0;backface-visibility:hidden;z-index:1;background:#dddddd;-webkit-appearance:button;-moz-appearance:button;appearance:button}:host #card ::slotted(.last-active){z-index:2}:host #card ::slotted(.active){z-index:3}:host #card ::slotted([hidden]){display:none}:host #card slot>*{display:flex;align-items:center;justify-content:center;margin:0;position:absolute;top:0;right:0;bottom:0;left:0;background:#dddddd}:host(:focus){outline:none}:host(:focus) ::slotted(.active){outline:#000000 dotted 1px;outline:-webkit-focus-ring-color auto 5px}:host(.no-option-selected) #card{transform:none !important}:host([hidden]){display:none}\n</style><div id="card"><slot name="options"><div>No options available for this button</div></slot></div>',window.ShadyCSS!==void 0&&ShadyCSS.prepareTemplate(c,a);var d=function(a){function d(){_classCallCheck(this,d);var a=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return a.attachShadow({mode:'open'}),a.shadowRoot.appendChild(c.content.cloneNode(!0)),a._cardElement=a.shadowRoot.querySelector('#card'),a._optionsSlot=a._cardElement.querySelector('slot[name="options"]'),a._noOptionsElement=a._optionsSlot.querySelector('*'),a._formElement=document.createElement('input'),a._formElement.type='hidden',a.appendChild(a._formElement),a}return _inherits(d,a),_createClass(d,null,[{key:'observedAttributes',get:function get(){return['disabled','name','value','form']}}]),_createClass(d,[{key:'connectedCallback',value:function connectedCallback(){void 0!==window.ShadyCSS&&ShadyCSS.styleElement(this),this._upgradeProperty('disabled'),this._upgradeProperty('form'),this._upgradeProperty('name'),this._upgradeProperty('selectedIndex'),this._upgradeProperty('value'),this.hasAttribute('role')||this.setAttribute('role','combobox'),this.hasAttribute('tabindex')||this.setAttribute('tabindex',0),this.hasAttribute('aria-disabled')||this.setAttribute('aria-disabled',this.disabled),this._setUpDimensions(),this.addEventListener('keydown',this._onKeyDown),this.addEventListener('click',this._onClick);var a=new MutationObserver(this._onChildrenMutation.bind(this));a.observe(this,{childList:!0}),this.selectedIndex=0}},{key:'_upgradeProperty',value:function _upgradeProperty(a){if(this.hasOwnProperty(a)){var b=this[a];delete this[a],this[a]=b}else this.hasAttribute(a)&&(this[a]=this.getAttribute(a))}},{key:'_setUpDimensions',value:function _setUpDimensions(){var a=Number.parseInt;this.style.minWidth='',this.style.minHeight='';var b=getComputedStyle(this),c=a(b.width,10),d=a(b.height,10),e=0===c,f=0===d;if(e||f){var g=0,j=0;this._cardElement.style.position='relative';var k=this._optionsSlot.assignedNodes();if(0<k.length)for(var l=0;l<k.length;l++){if(k[l].style.position='relative',e){var i=k[l].offsetWidth;i>g&&(g=i)}if(f){var m=k[l].offsetHeight;m>j&&(j=m)}k[l].style.position=''}else this._noOptionsElement.style.position='relative',g=this._noOptionsElement.offsetWidth,j=this._noOptionsElement.offsetHeight,this._noOptionsElement.style.position='';if(this._cardElement.style.position='',e){var h=g+2;this.style.minWidth=h+'px',this.style.perspective=2*h+'px'}if(f){var n=j+2;this.style.minHeight=n+'px'}}}},{key:'disconnectedCallback',value:function disconnectedCallback(){this.removeEventListener('keydown',this._onKeyDown),this.removeEventListener('click',this._onClick)}},{key:'attributeChangedCallback',value:function attributeChangedCallback(a,b,c){var d=null!==c;'disabled'===a?(this.setAttribute('aria-disabled',d),d?this.hasAttribute('tabindex')&&(this._tabindexBeforeDisabled=this.getAttribute('tabindex'),this.removeAttribute('tabindex'),this.blur()):!this.hasAttribute('tabindex')&&void 0!==this._tabindexBeforeDisabled&&null!==this._tabindexBeforeDisabled&&this.setAttribute('tabindex',this._tabindexBeforeDisabled)):'name'===a?this.name!==c&&(this.name=c):'value'===a?this.value!==c&&(this.value=c):'form'===a?this.form.id!==c&&(this.form=c):void 0}},{key:'add',value:function add(a){a.slot='options',this.appendChild(a)}},{key:'remove',value:function remove(a){this.removeChild(this.options[a])}},{key:'_onKeyDown',value:function _onKeyDown(a){if(!a.altKey)switch(a.keyCode){case b.SPACE:case b.ENTER:a.preventDefault(),this._flip();break;default:}}},{key:'_onClick',value:function _onClick(){this._flip(),this.blur()}},{key:'_onChildrenMutation',value:function _onChildrenMutation(a){for(var b=!1,c=0;c<a.length;c++){for(var d=0;d<a[c].addedNodes.length;d++)if(a[c].addedNodes[d].assignedSlot===this._optionsSlot){b=!0;break}for(var e=0;e<a[c].removedNodes.length;e++)a[c].removedNodes[e].classList.contains('active')&&(this.selectedIndex=(this.selectedIndex%this.length+this.length)%this.length);0===this.length&&(b=!0)}recalulateSize&&this._setUpDimensions()}},{key:'_flip',value:function _flip(){this.disabled||(this.selectedIndex=((this.selectedIndex+1)%this.length+this.length)%this.length,this.dispatchEvent(new CustomEvent('change',{detail:{selectedIndex:this.selectedIndex,option:this.options[this.selectedIndex]},bubbles:!0})))}},{key:'_update',value:function _update(){var a=0<arguments.length&&void 0!==arguments[0]&&arguments[0];a=a;for(var b=this._optionsSlot.assignedNodes(),c=0;c<b.length;c++)c===this.selectedIndex?(b[c].classList.add('active'),b[c].classList.remove('last-active'),b[c].removeAttribute('hidden'),''===b[c].id&&(b[c].id=this._generateGuid()),this.setAttribute('aria-activedescendant',b[c].id),this._formElement.value=b[c].value):b[c].classList.contains('active')?(b[c].classList.remove('active'),b[c].classList.add('last-active'),b[c].removeAttribute('hidden')):(b[c].classList.remove('active'),b[c].classList.remove('last-active'),b[c].setAttribute('hidden',''));-1===this.selectedIndex?(this.classList.add('no-option-selected'),this.removeAttribute('aria-activedescendant'),this._formElement.value=''):this.classList.remove('no-option-selected'),a?setTimeout(this._playTransition.bind(this),0):this._playTransition()}},{key:'_playTransition',value:function _playTransition(){this._cardElement.style.transition='';var a=-180*this.selectedIndex;this._cardElement.style.transform='rotateY('+a+'deg)';for(var b=this._optionsSlot.assignedNodes(),c=0;c<b.length;c++)b[c].style.transform=c===this.selectedIndex?0==c%2?'':'rotateY(180deg)':b[c].classList.contains('last-active')?'rotateY('+(a+180)+'deg)':''}},{key:'_generateGuid',value:function _generateGuid(){var a=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return a()+a()+'-'+a()+'-'+a()+'-'+a()+'-'+a()+a()+a()}},{key:'disabled',set:function set(a){var b=!!a;b?this.setAttribute('disabled',''):this.removeAttribute('disabled'),this._formElement.disabled=b},get:function get(){return this.hasAttribute('disabled')}},{key:'form',set:function set(a){this._formElement.form=a,this._formElement.hasAttribute('form')&&this.setAttribute('form',this._formElement.getAttribute('form'))},get:function get(){return this._formElement.form}},{key:'length',get:function get(){return this._optionsSlot.assignedNodes().length}},{key:'multiple',get:function get(){return!1}},{key:'name',set:function set(a){var b=new String(a);this.setAttribute('name',b),this._formElement.name=b},get:function get(){return this.hasAttribute('name')?this.getAttribute('name'):''}},{key:'options',get:function get(){return this._optionsSlot.assignedNodes()}},{key:'selectedIndex',set:function set(a){var b=+a;0<=b&&b<this.length?(this._selectedIndex=b,0===this._selectedIndex?(this._cardElement.style.transition='none',this._cardElement.style.transform='rotateY(180deg)',this._update(!0)):this._update(!1)):(this._selectedIndex=-1,this._cardElement.style.transition='none',this._cardElement.style.transform='rotateY(180deg)',this._update(!0))},get:function get(){return 0===this.length?-1:this._selectedIndex>=this.length?this.length-1:this._selectedIndex}},{key:'size',get:function get(){return 1}},{key:'type',get:function get(){return'select-one'}},{key:'value',set:function set(a){var b=this.options[this.selectedIndex];b&&(b.value=a,this._formElement.value=b.value)},get:function get(){var a=this.options[this.selectedIndex];return a?a.value:''}}]),d}(HTMLElement);window.CatalystFlipButton=d,window.customElements.define(a,d)}window.WebComponents===void 0||window.WebComponents.ready?a():window.addEventListener('WebComponentsReady',function(){a()})})();